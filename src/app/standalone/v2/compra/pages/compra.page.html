<h1 app-title>
  <mat-icon>attach_money</mat-icon>
  {{ titleService.getTitle() }}
</h1>
<div container>
  <div app-card>
    <div app-card-header>
      <h2 app-card-title>Lista de Compras Divididas por Dois</h2>

      <div icon-bg (click)="addComprasDivididas()">
        <mat-icon>add</mat-icon>
      </div>
    </div>
    <div app-card-body>
      <div app-table>
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>Parcelas</th>
              <th>Valor por pacela</th>
              <th>Total</th>
              <th>Opções</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let compra of listComprasDivdidasPorDois">
              <td>{{ compra.nome }}</td>
              <td>{{ compra.parcelas }}</td>
              <td>{{ compra.valorPorParcela | currency:'BRL' }}</td>
              <td>{{ compra.valorTotal | currency:'BRL' }}</td>
              <td>
                <mat-icon space (click)="confirmDelete(compra.code)"
                  >delete</mat-icon
                >
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr *ngIf="listComprasDivdidasPorDois.length > 0">
              <td colspan="3">Total</td>
              <td>
                {{valorTotalSomadoListComprasDivdidasPorDois | currency:'BRL'}}
              </td>
              <td></td>
            </tr>
            <tr *ngIf="listComprasDivdidasPorDois.length > 0">
              <td colspan="3">Divido por Dois</td>
              <td>
                {{valorTotalDividoListComprasDivdidasPorDois | currency:'BRL'}}
              </td>
              <td></td>
            </tr>
            <tr *ngIf="listComprasDivdidasPorDois.length == 0">
              <td colspan="4">
                <div dados-nao-encontrados>Nenhum encontrado</div>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>

  <div app-card>
    <div app-card-header>
      <h2 app-card-title>Lista de Compras Somente da Laila</h2>

      <div icon-bg (click)="addComprasSomente()">
        <mat-icon>add</mat-icon>
      </div>
    </div>
    <div app-card-body>
      <div app-table>
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>Parcelas</th>
              <th>Valor por pacela</th>
              <th>Total</th>
              <th>Opções</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let compra of listCompras">
              <td>{{ compra.nome }}</td>
              <td>{{ compra.parcelas }}</td>
              <td>{{ compra.valorPorParcela | currency:'BRL' }}</td>
              <td>{{ compra.valorTotal | currency:'BRL' }}</td>
              <td>
                <mat-icon space (click)="confirmDelete(compra.code)"
                  >delete</mat-icon
                >
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr *ngIf="listCompras.length > 0">
              <td colspan="3">Total</td>
              <td>{{valorTotalSomadoListCompras | currency:'BRL'}}</td>
              <td></td>
            </tr>
            <tr *ngIf="listCompras.length == 0">
              <td colspan="5">
                <div dados-nao-encontrados>Nenhum encontrado</div>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>

  <div app-card>
    <div app-card-header>
      <h2 app-card-title>Lista de Recebimentos</h2>

      <div icon-bg (click)="addValorRecebido()">
        <mat-icon>add</mat-icon>
      </div>
    </div>
    <div app-card-body>
      <div app-table>
        <table display-table>
          <thead>
            <tr>
              <th>Data do Pagamento</th>
              <th>Valor Pago</th>
              <th>Opções</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let recebimento of listRecebimentos">
              <td>{{ recebimento.data }}</td>
              <td>{{ recebimento.valor | currency:'BRL' }}</td>
              <td>
                <mat-icon space (click)="confirmDelete(recebimento.code, true)"
                  >delete</mat-icon
                >
              </td>
            </tr>
          </tbody>
          <tfoot>
            <tr *ngIf="listRecebimentos.length > 0">
              <td colspan="1">Total</td>
              <td>{{valorTotalSomadoListRecebimentos | currency:'BRL'}}</td>
              <td></td>
            </tr>
            <tr *ngIf="listCompras.length == 0">
              <td colspan="3">
                <div dados-nao-encontrados>Nenhum encontrado</div>
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>

  <div summary>
    <div class="item">
      <h2 app-title>Valor total já recebido</h2>
      <div class="value">
        {{ valorTotalSomadoListRecebimentos | currency:'BRL' }}
      </div>
    </div>
    <div class="item">
      <h2 app-title>Valor total a ser Pago</h2>
      <div class="value">
        {{ valorTotalDividoListComprasDivdidasPorDois +
        valorTotalSomadoListCompras - valorTotalSomadoListRecebimentos |
        currency:'BRL'}}
      </div>
    </div>
  </div>
</div>
