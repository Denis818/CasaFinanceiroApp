<div grupoDespesa-view>
  <table>
    <thead>
      <th>Grupo de Despesa</th>
      <th>Opções</th>
    </thead>
    <tbody>
      <tr
        *ngFor="let grupoDespesa of grupoDespesas"
        (keyup.enter)="updateGrupoDespesa(grupoDespesa.id, grupoDespesa)"
      >
        <td>
          <div *ngIf="grupoDespesa.isEditing; else viewNome">
            <input type="text" [(ngModel)]="grupoDespesa.nome" />
          </div>
          <ng-template #viewNome>{{ grupoDespesa.nome }}</ng-template>
        </td>
        <td>
          <i *ngIf="!grupoDespesa.isEditing; else saveEdicao">
            <mat-icon (click)="openEdit(grupoDespesa)">edit</mat-icon>
          </i>

          <ng-template #saveEdicao>
            <mat-icon
              (click)="updateGrupoDespesa(grupoDespesa.id, grupoDespesa)"
              >save</mat-icon
            >
          </ng-template>

          <i space [ngClass]="{'disable-options': grupoDespesas.length == 1}">
            <mat-icon (click)="confirmDelete(grupoDespesa.id)">delete</mat-icon>
          </i>
        </td>
      </tr>
    </tbody>
  </table>
</div>
